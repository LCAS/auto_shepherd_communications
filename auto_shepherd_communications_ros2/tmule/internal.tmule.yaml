session: communicator
init_cmd: |
  echo " "
  echo " "
  echo " "
  echo "Running Initialisation"

  #exec /bin/bash
  cd @TMULE_CONFIG_DIR@ || true
  set -o pipefail

  # Simulated device declarations
  export device_a='/dev/tnt0'
  export device_b='/dev/tnt1'

windows:

  - name: communicator_a
    panes:
      - ros2 run auto_shepherd_communications_ros2 data_loader_node.py
      - ros2 run auto_shepherd_communications_ros2 bridge_interface.py
      - ros2 run auto_shepherd_communications_ros2 serial_node.py device:=$device_a

  - name: communicator_b
    panes:
      - ros2 run auto_shepherd_communications_ros2 serial_node.py device:=$device_b
      - ros2 run auto_shepherd_communications_ros2 bridge_interface.py
